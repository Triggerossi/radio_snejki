# My Radio — Персональное онлайн-радио с умными рекомендациями

**My Radio** — веб-приложение на Django, которое позволяет слушать музыку в режиме радио с персонализированными рекомендациями.  
Система учитывает лайки пользователя, чаще играет треки любимых жанров и исполнителей, избегает частых повторений и автоматически переключает треки. Всё работает без перезагрузки страницы благодаря AJAX.

---

## Features

- Авторизация (регистрация, логин, логаут)
- Бесконечное радио с автоматическим переключением треков
- Лайки треков — влияют на будущие рекомендации
- Умная система рекомендаций:
  - Чаще играет треки из любимых жанров и от любимых исполнителей
  - Каждый 4-й трек — из «чужого» жанра/исполнителя для разнообразия
  - Не повторяет только что игравший или лайкнутый трек в ближайших 5 песнях
- Полный сброс всех лайков и истории рекомендаций одной кнопкой
- Плавное воспроизведение без перезагрузки страницы (AJAX + seamless audio)
- Админ-панель с удобным добавлением треков (выбор автора и жанра из списков)
- Адаптивный минималистичный дизайн

---

## Tech Stack

- **Backend**: Python 3.11+, Django 4.x
- **Database**: SQLite (по умолчанию, легко заменить на PostgreSQL)
- **Frontend**: HTML5, CSS3, Vanilla JavaScript
- **Медиа**: Django FileField + ImageField для аудио и обложек
- **Дополнительно**: Django sessions для хранения истории прослушивания и рекомендаций

---

## Installation

### 1. Клонирование репозитория
```bash
git clone https://github.com/ВАШ_ЮЗЕРНЕЙМ/my-radio.git
cd my-radio
2. Создание виртуального окружения
bash
Копировать код
python -m venv .venv
Активация:

Linux / MacOS

bash
Копировать код
source .venv/bin/activate
Windows

bat
Копировать код
.venv\Scripts\activate
3. Установка зависимостей
bash
Копировать код
pip install -r requirements.txt
4. Применение миграций
bash
Копировать код
python manage.py makemigrations
python manage.py migrate
5. Создание суперпользователя
bash
Копировать код
python manage.py createsuperuser
6. Добавление контента в админку
bash
Копировать код
python manage.py runserver
Перейдите в браузере: http://127.0.0.1:8000/admin/
Добавьте:

Genre

Author
Затем создайте Song (укажите автора, жанр, загрузите аудиофайл и обложку).

7. Запуск проекта
bash
Копировать код
python manage.py runserver
Откройте в браузере: http://127.0.0.1:8000/

Screenshots
Страница входа (Login)
![ER Diagram](docs/photo1.jpg)

Главная страница радио
![ER Diagram](docs/photo3.jpg)

Админка — добавление трека
![ER Diagram](docs/photo2.jpg)


ER-диаграмма базы данных
Модели:

Author — исполнители

Genre — жанры

Song — треки (FK на Author и Genre)

Like — лайки пользователей (FK на User и Song)

User — стандартная модель Django auth



API Endpoints
Приложение использует AJAX для взаимодействия:

GET /next-song/?current_id=<id> — получить данные следующего трека (JSON)

POST /like/<int:song_id>/ — поставить лайк текущему треку

POST /reset-likes/ — сбросить все лайки и историю рекомендаций

Архитектура
text
Копировать код
Браузер (HTML + JS + Audio)
        ↓ (AJAX fetch)
Django Backend (views, models)
        ↓
SQLite БД (Song, Author, Genre, Like, User)
        ↑
Sessions (хранение истории прослушивания и рекомендаций)
Пользовательские действия (лайк, next) → AJAX-запросы → Django views

Рекомендации рассчитываются на основе лайков и сессии

Аудио воспроизводится через <audio> с seamless сменой src